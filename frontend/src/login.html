---
layout: protected.liquid
title: Login
show_navbar: false
protected: false
---

<body>
    <div id="okta-login-container"></div>

<script type="text/javascript" th:inline="javascript">

    let OKTA_clientId = '0oa6fm8j4G1xfrthd4h6';
    let OKTA_baseUrl = 'hhs-prime.okta.com';
    let redirect = 'http://localhost:8090/download.html';

    var config = {
        logo: '//logo.clearbit.com/cdc.gov',
        language: 'en',
        features: {
            registration: false, // Enable self-service registration flow
            rememberMe: false, // Setting to false will remove the checkbox to save username
            router: true, // Leave this set to true for the API demo
        },
        el: "#okta-login-container",
        baseUrl: `https://${OKTA_baseUrl}`,
        clientId: OKTA_clientId,
        redirectUri: redirect,
        authParams: {
          issuer: `https://${OKTA_baseUrl}/oauth2/default`
        }
    };

    var signInWidget= new OktaSignIn(config);
    signInWidget.showSignInToGetTokens( { scopes: ['openid', 'email', 'profile', 'simple_report'] } )
        .then( function( tokens ){
            var jwt = tokens.accessToken.value;
            window.sessionStorage.setItem('jwt', jwt) ;
            window.location.replace(`./data-index.html`);
        });
</script>
</body>
